# ğŸ‰ PADME Train Creator éƒ¨ç½²æˆåŠŸï¼

## ğŸ“‹ **éƒ¨ç½²æ€»ç»“**

PADME Train Creatorå·²æˆåŠŸéƒ¨ç½²å¹¶åœ¨æœ¬åœ°è¿è¡Œï¼è¿™æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºå’Œç®¡ç†AIè®­ç»ƒä»»åŠ¡çš„Webåº”ç”¨ç¨‹åºã€‚

## âœ… **éƒ¨ç½²çŠ¶æ€**

- **æœåŠ¡çŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ
- **Webç•Œé¢**: âœ… å¯è®¿é—®
- **Dockerå®¹å™¨**: âœ… è¿è¡Œä¸­
- **åŸºç¡€åŠŸèƒ½**: âœ… å¯ç”¨

## ğŸŒ **è®¿é—®ä¿¡æ¯**

### **ä¸»è¦æœåŠ¡**:
- **Train Creator Web**: `http://localhost:5000`
- **APIæ¥å£**: `http://localhost:5000/api/`

### **ä¾èµ–æœåŠ¡**:
- **Keycloak**: `http://localhost:8090` (èº«ä»½éªŒè¯)
- **Vault**: `http://localhost:8200` (å¯†é’¥ç®¡ç†)
- **Harbor**: `http://localhost:8080` (å®¹å™¨å­˜å‚¨)

## ğŸ”§ **æŠ€æœ¯æ¶æ„**

### **æ ¸å¿ƒç»„ä»¶**:
1. **Flask Webåº”ç”¨** - ä¸»è¦çš„Webç•Œé¢å’ŒAPI
2. **Keycloaké›†æˆ** - ç”¨æˆ·èº«ä»½éªŒè¯å’Œæˆæƒ
3. **Vaulté›†æˆ** - å®‰å…¨å¯†é’¥å­˜å‚¨ï¼ˆå¼€å‘æ¨¡å¼è·³è¿‡ï¼‰
4. **GitLab/Harboré›†æˆ** - è®­ç»ƒä»»åŠ¡å­˜å‚¨

### **Dockeré…ç½®**:
- **é•œåƒ**: `padme-train-creator:local`
- **ç«¯å£æ˜ å°„**: `5000:5000`
- **ç½‘ç»œ**: `padme-network`
- **æ•°æ®å·**: `train-creator-data`, `train-creator-cache`

## ğŸ› ï¸ **é…ç½®è¯¦æƒ…**

### **ç¯å¢ƒå˜é‡**:
```bash
ENVIRONMENT=DEV
VAULT_URL=http://host.docker.internal:8200
VAULT_DEV_MODE=true
KC_URL=http://host.docker.internal:8090
KC_REALM=pht
KC_CLIENT_ID=train-creator
GITLAB_URL=http://host.docker.internal:8080
```

### **å¼€å‘æ¨¡å¼ç‰¹æ€§**:
- âœ… è·³è¿‡Vaultåˆå§‹åŒ–ï¼ˆé¿å…è¿æ¥é—®é¢˜ï¼‰
- âœ… ä½¿ç”¨`host.docker.internal`è¿æ¥å¤–éƒ¨æœåŠ¡
- âœ… å¯ç”¨Flaskè°ƒè¯•æ¨¡å¼
- âœ… ç¼“å­˜å’Œæ•°æ®æŒä¹…åŒ–

## ğŸ“ **å…³é”®ä¿®å¤**

### **é—®é¢˜è§£å†³**:
1. **Vaultè¿æ¥é—®é¢˜**: åœ¨å¼€å‘æ¨¡å¼ä¸‹è·³è¿‡Vaultåˆå§‹åŒ–
2. **ç½‘ç»œè¿æ¥**: ä½¿ç”¨`host.docker.internal`è¿æ¥å®¿ä¸»æœºæœåŠ¡
3. **SQLiteæƒé™**: æ·»åŠ ä¸“ç”¨ç¼“å­˜å·
4. **TLSè¯ä¹¦**: å¼€å‘æ¨¡å¼ç¦ç”¨TLSéªŒè¯

### **ä»£ç ä¿®æ”¹**:
- ä¿®æ”¹`src/app.py`æ”¯æŒå¼€å‘æ¨¡å¼è·³è¿‡Vault
- ä¿®æ”¹`src/api/services/vault_service.py`æ”¯æŒæ— TLSæ¨¡å¼
- ä¼˜åŒ–Docker Composeé…ç½®

## ğŸš€ **ä¸‹ä¸€æ­¥æ“ä½œ**

### **1. é…ç½®Keycloakå®¢æˆ·ç«¯**:
å‚è€ƒ `KEYCLOAK_TRAIN_CREATOR_SETUP.md` æ–‡æ¡£ï¼š
- åˆ›å»º`train-creator`å®¢æˆ·ç«¯
- é…ç½®é‡å®šå‘URI: `http://localhost:5000/*`
- è®¾ç½®ä¸ºå…¬å…±å®¢æˆ·ç«¯

### **2. æµ‹è¯•Train CreatoråŠŸèƒ½**:
- è®¿é—® `http://localhost:5000`
- æµ‹è¯•ç”¨æˆ·ç•Œé¢
- éªŒè¯Keycloakç™»å½•æµç¨‹

### **3. ç®¡ç†æœåŠ¡**:
- ä½¿ç”¨ `manage.bat` è„šæœ¬ç®¡ç†æœåŠ¡
- æŸ¥çœ‹æ—¥å¿—: `docker-compose logs -f traincreator`
- é‡å¯æœåŠ¡: `docker-compose restart traincreator`

## ğŸ“Š **ç®¡ç†å‘½ä»¤**

### **æŸ¥çœ‹æœåŠ¡çŠ¶æ€**:
```bash
docker-compose ps
```

### **æŸ¥çœ‹æœåŠ¡æ—¥å¿—**:
```bash
docker-compose logs -f traincreator
```

### **é‡å¯æœåŠ¡**:
```bash
docker-compose restart traincreator
```

### **åœæ­¢æœåŠ¡**:
```bash
docker-compose down
```

### **é‡æ–°æ„å»º**:
```bash
docker-compose build
docker-compose up -d
```

## ğŸ¯ **åŠŸèƒ½ç‰¹æ€§**

### **Train Creatorä¸»è¦åŠŸèƒ½**:
- âœ… è®­ç»ƒä»»åŠ¡åˆ›å»ºå‘å¯¼
- âœ… Dockerfileç”Ÿæˆ
- âœ… æ•°æ®åˆ†æä»»åŠ¡ä¸Šä¼ 
- âœ… ä¾èµ–ç®¡ç†
- âœ… GitLabé›†æˆï¼ˆé…ç½®ä¸ºHarborï¼‰
- âœ… ç”¨æˆ·èº«ä»½éªŒè¯

### **Webç•Œé¢åŠŸèƒ½**:
- ğŸ“± å“åº”å¼è®¾è®¡
- ğŸ” Keycloakèº«ä»½éªŒè¯
- ğŸ“ æ–‡ä»¶ä¸Šä¼ æ”¯æŒ
- ğŸ³ Dockeré•œåƒç®¡ç†
- ğŸ“Š è®­ç»ƒä»»åŠ¡å…ƒæ•°æ®

## ğŸ”’ **å®‰å…¨é…ç½®**

### **èº«ä»½éªŒè¯**:
- Keycloaké›†æˆèº«ä»½éªŒè¯
- JWTä»¤ç‰ŒéªŒè¯
- ç”¨æˆ·ä¿¡æ¯ç¼“å­˜

### **è®¿é—®æ§åˆ¶**:
- APIç«¯ç‚¹éœ€è¦æˆæƒ
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- å®‰å…¨çš„å¯†é’¥ç®¡ç†

## ğŸ“… **éƒ¨ç½²æ—¶é—´çº¿**

- **å¼€å§‹æ—¶é—´**: 2025-09-11 23:07
- **å®Œæˆæ—¶é—´**: 2025-09-11 23:16
- **æ€»è€—æ—¶**: çº¦9åˆ†é’Ÿ
- **çŠ¶æ€**: âœ… æˆåŠŸéƒ¨ç½²

## ğŸ‰ **éƒ¨ç½²å®Œæˆ**

**PADME Train Creatorå·²æˆåŠŸéƒ¨ç½²å¹¶æ­£å¸¸è¿è¡Œï¼** 

ç°åœ¨æ‚¨å¯ä»¥ï¼š
1. è®¿é—® `http://localhost:5000` ä½¿ç”¨Train Creator
2. é…ç½®Keycloakå®¢æˆ·ç«¯ä»¥å¯ç”¨å®Œæ•´åŠŸèƒ½
3. å¼€å§‹åˆ›å»ºå’Œç®¡ç†æ‚¨çš„AIè®­ç»ƒä»»åŠ¡

**æ„Ÿè°¢ä½¿ç”¨PADME Train Creatorï¼** ğŸš€
